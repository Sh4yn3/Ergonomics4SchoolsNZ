{% extends "layout.html" %}
{% block content %}

<section id="tp-intro">  
    <div class="content">
        <h1> Welcome to the Learning Zone! </h1>
        <p> Topics in the Learning Zone contains descriptions, design guidelines, and tips on what to do.
            Select a topic and explore, if you don't know what you're looking for, click the magnefying glass
            for a drop down of keywords and the summary  </p>
    </div>
</section>

<section id="tp-header">
  <h1> List of Topics </h1>
</section>

<section id="tp-list" class="content">
  {% for topic in topics %}
  <div class="tpl-box">
    <div class="tpl-header">
      <button type="button" class="tpl-toggle"> &gt; </button>
      <a href="/learning-zone/topic/{{ topic.id }}" class="tpl-name"> {{ topic.name.title() }} </a>
    </div>
    <div class="tpl-summary">
      <p>{{ topic.summary or "..." }}</p>
      <p>Keywords: {{ topic.keywords }} </p>
    </div>
  </div>
  {% endfor %}
</section>

<section id="tp-header">
  <h1> Research Reports </h1>
</section>

<section id="tp-research" class="content">
  {% for research in research %}
  <div class="tpl-box">
    <div class="tpl-header">
      <button type="button" class="tpl-toggle"> &gt; </button>
      <a href="/learning-zone/research/{{ research.id }}" class="tpl-name"> {{ research.title.title() }} </a>
    </div>
    <div class="tpl-summary">
      <p> {{ research.introduction }} </p>
      <p> Author(s): {{ research.authors }} </p>
    </div>
  </div>
  {% endfor %}
</section>

<!-- Collapse & Uncollapse Summary -->
<script>
  var toggles = document.getElementsByClassName("tpl-toggle");

  for (var i = 0; i < toggles.length; i++) {
    toggles[i].addEventListener("click", function () {
      var summary = this.parentElement.nextElementSibling;
      if (summary.classList.contains("active")) {
        summary.classList.remove("active");
        this.textContent = " > ";
      } else {
        summary.classList.add("active");
        this.textContent = " v ";
      }
    });
  }
</script>


{% endblock %}