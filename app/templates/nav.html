<nav>
    <div class="navbar">
        <ul>
            <li class="nav-logo"> <a href="#Logo"> Ergonomics4SchoolsNZ </a></li>
            
            <li class="nav-link"> <a href="/"> Home </a></li>
            <li class="nav-link"> <a href="/topics"> Topics List </a></li>
            <li class="nav-link"> <a href="/about"> About Us </a></li>
            <li class="nav-link"> <a class="contact" href="/contact"> Contact Us </a></li>
            <li class="nav-link"> <a class="search" href="#Search"> Search </a></li>
        </ul>
    </div>

</nav>

<script>
var prevScrollpos = window.pageYOffset;
window.onscroll = function() {
var currentScrollPos = window.pageYOffset;
  if (prevScrollpos > currentScrollPos) {
    document.querySelector("nav").style.top = "0px";
  } else {
    document.querySelector("nav").style.top = "-500px";
  }
  prevScrollpos = currentScrollPos;
}
</script>

<script>
function updateNavTextColor() {
  const nav = document.querySelector("nav");
  const navCenter = window.scrollY + nav.offsetHeight / 2;
  const sections = document.querySelectorAll("[data-bg]");

  for (const section of sections) {
    const rect = section.getBoundingClientRect();
    const top = rect.top + window.scrollY;
    const bottom = top + section.offsetHeight;

    if (navCenter >= top && navCenter <= bottom) {
      const bg = section.getAttribute("data-bg");
      const links = nav.querySelectorAll("a");
      const color = (bg === "dark") ? "white" : "black";

      links.forEach(link => {
        link.style.color = color;
      });
      break;
    }
  }
}

window.addEventListener("scroll", updateNavTextColor);
window.addEventListener("load", updateNavTextColor);
</script>

