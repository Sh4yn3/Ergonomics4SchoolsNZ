<nav>
  <div class="navbar">
    <ul>
      <li class="nav-logo"> <a> Ergonomics4SchoolsNZ </a></li>
        <li class="nav-link"> <a href="/"> Home </a></li>
        <li class="nav-link"> <a href="/topics"> Topics List </a></li>
        <li class="nav-link"> <a href="/career-advice"> Career Advice </a></li>
        <li class="nav-link"> <a href="/about"> About Us </a></li>
        <li class="nav-link"> <a class="contact" href="/contact"> Contact Us </a></li>
        <li class="nav-link"> <a class="search" href="#search"><i class="fi fi-br-search" clas="search"></i></a></li>
      </ul>
  </div>
</nav>
<button class="nav-toggle" >
  <img src="/static/icon/collapse.svg" oncontextmenu="return false;" draggable="false">
</button>

<!-- Collapsable Navbar -->
<script>
  const collapse = document.querySelector(".nav-toggle");
  const nav = document.querySelector("nav");

  collapse.addEventListener("click", () => {
    nav.classList.toggle("hidden");
    collapse.classList.toggle("hidden");
  });
</script>

<!-- Updates Font Colour Depending on Light (Black) or Dark BG (White) -->
<script>
function updateNavTheme() {
  const sections = document.querySelectorAll("section[data-bg]");
  const nav = document.querySelector("nav");
  const scrollPos = window.scrollY;

  for (const section of sections) {
    const rect = section.getBoundingClientRect();
    const top = rect.top + window.scrollY;
    const bottom = top + section.offsetHeight;

    if (scrollPos >= top && scrollPos < bottom) {
      const bg = section.getAttribute("data-bg");
      if (bg === "dark-bg") {
        nav.classList.add("nav-white");
      } else {
        nav.classList.remove("nav-white");
      }
      break;
    }
  }
}

window.addEventListener("scroll", updateNavTheme);
window.addEventListener("load", updateNavTheme);
</script>
